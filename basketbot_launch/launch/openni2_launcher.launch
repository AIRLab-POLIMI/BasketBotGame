<launch>
<include file="$(find openni2_launch)/launch/openni2.launch">
<arg name="depth_registration" default="true" />
<arg name="load_driver" default="false" />
</include>

      <arg name="device_id"                       value="$(arg device_id)" />
      <arg name="rgb_frame_id"                    value="$(arg rgb_frame_id)" />
      <arg name="depth_frame_id"                  value="$(arg depth_frame_id)" />
      <arg name="rgb_camera_info_url"             value="$(arg rgb_camera_info_url)" />
      <arg name="depth_camera_info_url"           value="$(arg depth_camera_info_url)" />
      <arg name="rgb"                             value="$(arg rgb)" />
      <arg name="ir"                              value="$(arg ir)" />
      <arg name="depth"                           value="$(arg depth)" />
      <arg name="respawn"                         value="$(arg respawn)" />
      <arg name="depth_registration"              value="$(arg depth_registration)" />
      <arg name="color_depth_synchronization"     value="$(arg color_depth_synchronization)" />
      <arg name="auto_exposure"                   value="$(arg auto_exposure)" />
      <arg name="auto_white_balance"              value="$(arg auto_white_balance)" />



<node pkg="openni2_camera" type="openni2_camera_node" name="openni2_camera" respawn="true">

<param name="device_id" type="str" value="$(arg device_id)" />
    <param name="rgb_camera_info_url"   value="$(arg rgb_camera_info_url)" />
    <param name="depth_camera_info_url" value="$(arg depth_camera_info_url)" />
    <param name="rgb_frame_id"   value="$(arg rgb_frame_id)" />
    <param name="depth_frame_id" value="$(arg depth_frame_id)" />

    <param name="depth_registration" value="$(arg depth_registration)" />
    <param name="color_depth_synchronization" value="$(arg color_depth_synchronization)" />
    <param name="auto_exposure" value="$(arg auto_exposure)" />
    <param name="auto_white_balance" value="$(arg auto_white_balance)" />

    <remap from="ir" to="$(arg ir)" />
    <remap from="rgb" to="$(arg rgb)" />
    <remap from="depth" to="$(arg depth)" />
    <remap from="depth_registered" to="$(arg depth_registered)" />

    <remap from="$(arg rgb)/image" to="$(arg rgb)/image_raw" />
    <remap from="$(arg depth)/image" to="$(arg depth_registered)/image_raw" />

</node>

</launch>
